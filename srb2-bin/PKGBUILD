# Maintainer: carstene1ns <url/mail: arch carsten-teibes de>
# Contributor: DeedleFake <yisszev at beckforce dot com>

pkgname=srb2-bin
pkgver=2.0.7
pkgrel=1
pkgdesc='A 3D Sonic fan game based off of Doom Legacy (aka "Sonic Robo Blast 2"), precompiled'
arch=('i686' 'x86_64')
license=('GPL')
url='http://www.srb2.org'
depends=('sdl_mixer' 'libpng12' 'srb2-data=2.0.6') # data has not been updated
provides=("srb2")
conflicts=("srb2")
options=('!strip') # file is upx'd, will be crippled when stripped
source=("http://alam.srb2.org/SRB2/$pkgver-Final/Linux/Release/lsdlsrb2"
        "srb2.bashcomp"
        "srb2.desktop"
        "srb2-opengl.desktop")
sha256sums=('14d52121e1ac2aaf58eb8015ce9e8e3c406db0be47f6cc64b7ea6db457f5e96c'
            'e84d777fbed2acc50c36bbd93e4ad867877fb2bd31ee1af57e9b52f440a406f0'
            'ac9fa63f29ad9413797da8c6f0a4f76fa6f4dd0710d1e84a457a8c42cf6df4f9'
            'f696bab390d2b1028bf2f5c5d4d838c0981dc211cec4c4a8f349b7ec0580e701')
if [ "$CARCH" == "x86_64" ]; then
  source[0]="http://alam.srb2.org/SRB2/$pkgver-Final/Linux64/amd64/Release/lsdlsrb2"
  sha256sums[0]='c88362568428e17382ff111276d7534ba6be7d9600d904fbdda655ad5c7da251'
fi

package() {
  install -Dm755 lsdlsrb2 "$pkgdir"/usr/bin/srb2
  install -Dm644 srb2.desktop "$pkgdir"/usr/share/applications/srb2.desktop
  install -m644 srb2-opengl.desktop "$pkgdir"/usr/share/applications
  #install -Dm644 srb2.bashcomp "$pkgdir"/usr/share/bash-completion/completions/srb2
}
